<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Registration Form</title>

    <link rel="stylesheet" href="sign_in.css" />
</head>

<body>
    <div class="form-container">
        <h2>ENTER YOUR DETAILS</h2>
        <form id="registrationForm" method="POST" action="userdetails.php">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required />
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required />
            </div>

            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender">
                    <option value="Default" selected>Select Your Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Others</option>
                    <option value="Prefer-Not-To-Say">Prefer not to disclose</option>
                </select>
            </div>

            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" required />
            </div>

            <div class="form-group">
                <label for="state">State:</label>
                <input type="text" id="state" name="state" required />
            </div>

            <div class="form-group">
                <label for="profession">Profession:</label>
                <select id="profession" name="profession">
                    <option value="Default" selected>Select Your Profession</option>
                    <option value="Penetration Tester">Penetration Tester</option>
                    <option value="Soc Analyst">SOC Analyst</option>
                    <option value="Linux Administrator">Linux Administrator</option>
                    <option value="Security Engineer">Security Engineer</option>
                </select>
            </div>

            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required />
            </div>

            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required />
            </div>

            <div class="Register">
                <button type="submit" onclick="redirectToSignIn()">Register</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('registrationForm').addEventListener('submit', function (event) {
            let valid = true;
            let errorMessage = '';

            const name = document.getElementById('name').value.trim();
            if (name === '') {
                valid = false;
                errorMessage += 'Please enter your name.\n';
            }

            const email = document.getElementById('email').value.trim();
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email === '') {
                valid = false;
                errorMessage += 'Please enter your email.\n';
            } else if (!emailPattern.test(email)) {
                valid = false;
                errorMessage += 'Please enter a valid email address.\n';
            }

            const gender = document.getElementById('gender').value;
            if (gender === 'Default') {
                valid = false;
                errorMessage += 'Please select your gender.\n';
            }

            const dob = document.getElementById('dob').value.trim();
            if (dob === '') {
                valid = false;
                errorMessage += 'Please enter your date of birth.\n';
            }

            const state = document.getElementById('state').value.trim();
            if (state === '') {
                valid = false;
                errorMessage += 'Please enter your state.\n';
            }

            const profession = document.getElementById('profession').value;
            if (profession === 'Default') {
                valid = false;
                errorMessage += 'Please select your profession.\n';
            }

            const username = document.getElementById('username').value.trim();
            if (username === '') {
                valid = false;
                errorMessage += 'Please enter a username.\n';
            }

            const password = document.getElementById('password').value.trim();
            const passwordPattern = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+])[A-Za-z0-9!@#$%^&*()_+]{8,}$/;
            if (password === '') {
                valid = false;
                errorMessage += 'Please enter a password.\n';
            }
            else if (!passwordPattern.test(password)) {
                valid = false;
                errorMessage += 'Password must be at least 8 characters long and include at least one uppercase letter, one number, and one special character.\n';
            }

            if (!valid) {
                event.preventDefault();
                alert(errorMessage);
            }
        });


    </script>
</body>

</html>